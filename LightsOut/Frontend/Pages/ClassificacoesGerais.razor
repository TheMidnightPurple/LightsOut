@page "/classificacoesGerais"


@inherits LayoutComponentBase
@using DataAccessLibrary;
@using DataAccessLibrary.Models;
@inject IResultadoData _dbResultado

<div class="classificacoes">

    <div class="filtros">
        <div class="row">
            <button type="button" @onclick="PrevEpoca">&#8249</button>
            <p>Época @epocaPretendida</p>
            <button type="button" @onclick="ProxEpoca">&#8250</button>
        </div>

        <div class="row">
            <button type="button" @onclick="PrevProva">&#8249</button>
            <p>Prova @provaPretendida</p>
            <button type="button" @onclick="ProxProva">&#8250</button>
        </div>
    </div>


    <div class="leftTable">
        <h1>Classificação Geral Pilotos</h1>

        @for (int i = 0; i < total.Count; i++)
        {
            <div class="skillBox">
                <p>@(i+1)º @total[i].Item1 (@total[i].Item2 Pontos)</p>

                @switch (@total[i].Item1)
                {
                    case "Lewis Hamilton":
                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <p><img src="/2021cars/2021mercedes.png" alt="" border=3 height=60px width=200px></p>
                                break;
                            case 2020:
                                <p><img src="/2020cars/2020mercedes.png" alt="" border=3 height=60px width=200px></p>
                                break;
                            case 2019:
                                <p><img src="/2019cars/2019mercedes.png" alt="" border=3 height=60px width=200px></p>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Valtteri Bottas":
                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <p><img src="/2021cars/2021mercedes.png" alt="" border=3 height=60px width=200px></p>
                                break;
                            case 2020:
                                <p><img src="/2020cars/2020mercedes.png" alt="" border=3 height=60px width=200px></p>
                                break;
                            case 2019:
                                <p><img src="/2019cars/2019mercedes.png" alt="" border=3 height=60px width=200px></p>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Max Verstappen":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021redbull.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020redbull.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019redbull.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Pierre Gasly":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021alphatauri.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020alphaTauri.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019redbull.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Yuki Tsunoda":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021alphatauri.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                <td>-</td>
                                break;
                        }
                        break;

                    case "Lando Norris":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021mclaren.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020mclaren.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019mclaren.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Daniel Ricciardo":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021mclaren.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020renault.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019renault.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Nico Hülkenberg":

                        @switch (epocaPretendida)
                        {
                            case 2020:
                                <td><img src="/2020cars/2020renault.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019renault.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Carlos Sainz":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021ferrari.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020mclaren.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019mclaren.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Charles Leclerc":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021ferrari.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020ferrari.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019ferrari.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Daniil Kvyat":

                        @switch (epocaPretendida)
                        {
                            case 2020:
                                <td><img src="/2020cars/2020alphatauri.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019tororosso.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Alexander Albon":

                        @switch (epocaPretendida)
                        {
                            case 2020:
                                <td><img src="/2020cars/2020redbull.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019tororosso.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Sebastian Vettel":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021astonmartin.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020ferrari.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019ferrari.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Lance Stroll":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021astonmartin.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020racingpoint.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019racingpoint.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Sergio Pérez":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021redbull.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020racingpoint.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019racingpoint.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Kimi Räikkönen":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021alfaromeo.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020alfaromeo.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019alfaromeo.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Antonio Giovinazzi":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021alfaromeo.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020alfaromeo.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019alfaromeo.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Esteban Ocon":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021alpine.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020renault.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Fernando Alonso":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021alpine.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "George Russell":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021williams.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020williams.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019williams.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Robert Kubica":

                        @switch (epocaPretendida)
                        {
                            case 2019:
                                <td><img src="/2019cars/2019williams.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Nicholas Latifi":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021williams.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020williams.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Kevin Magnussen":

                        @switch (epocaPretendida)
                        {
                            case 2020:
                                <td><img src="/2020cars/2020haas.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019haas.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Romain Grosjean":

                        @switch (epocaPretendida)
                        {
                            case 2020:
                                <td><img src="/2020cars/2020haas.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019haas.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Nikita Mazepin":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021haas.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Mick Schumacher":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021haas.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    default:
                        break;
                }





                @switch (i)
                {
                    case 0:
                        {
                            <div class="skill">
                                <div class="skill_level" style="width: @(100 * total[i].Item2 / 500)%; background: gold; height: 10px;">
                                </div>
                            </div>
                            break;
                        }

                    case 1:
                        {
                            <div class="skill">
                                <div class="skill_level"
                                     style="width: @(100 * total[i].Item2 / 500)%; background: silver; height: 10px;"></div>
                            </div>
                            break;
                        }

                    case 2:
                        {
                            <div class="skill">
                                <div class="skill_level"
                                     style="width: @(100 * total[i].Item2 / 500)%; background: saddlebrown; height: 10px;"></div>
                            </div>
                            break;
                        }
                    default:
                        {
                            <div class="skill">
                                <div class="skill_level"
                                     style="width: @(100 * total[i].Item2 / 500)%; background: deepskyblue; height: 10px;"></div>
                            </div>
                            break;
                        }
                }

            </div>
        }
    </div>


    <div class="rightTable">
        <h1>Classificação Geral Equipas</h1>
        @for (int i = 0; i < totalEquipas.Count; i++)
        {
            <div class="skillBox">
                <p>@(i+1)º @totalEquipas[i].Item1 (@totalEquipas[i].Item2 Pontos)</p>

                @switch (@totalEquipas[i].Item1)
                {
                    case "Mercedes":
                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <p><img src="/2021cars/2021mercedes.png" alt="" border=3 height=60px width=200px></p>
                                break;
                            case 2020:
                                <p><img src="/2020cars/2020mercedes.png" alt="" border=3 height=60px width=200px></p>
                                break;
                            case 2019:
                                <p><img src="/2019cars/2019mercedes.png" alt="" border=3 height=60px width=200px></p>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Red Bull":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021redbull.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020redbull.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019redbull.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "McLaren":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021mclaren.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020mclaren.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019mclaren.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Ferrari":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021ferrari.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020ferrari.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019ferrari.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "AlphaTauri":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021alphatauri.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020alphaTauri.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Toro Rosso":

                        @switch (epocaPretendida)
                        {
                            case 2019:
                                <td><img src="/2019cars/2019tororosso.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Aston Martin":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021astonmartin.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Racing Point":

                        @switch (epocaPretendida)
                        {
                            case 2020:
                                <td><img src="/2020cars/2020racingpoint.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019racingpoint.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Alfa Romeo":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021alfaromeo.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020alfaromeo.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019alfaromeo.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Alpine F1 Team":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021alpine.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Renault":

                        @switch (epocaPretendida)
                        {
                            case 2020:
                                <td><img src="/2020cars/2020renault.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019renault.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Williams":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021williams.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020williams.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019williams.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    case "Haas F1 Team":

                        @switch (epocaPretendida)
                        {
                            case 2021:
                                <td><img src="/2021cars/2021haas.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2020:
                                <td><img src="/2020cars/2020haas.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            case 2019:
                                <td><img src="/2019cars/2019haas.png" alt="" border=3 height=60px width=200px></td>
                                break;
                            default:
                                break;
                        }
                        break;

                    default:
                        break;
                }

                @switch (i)
                {
                    case 0:
                        {
                            <div class="skill">
                                <div class="skill_level" style="width: @(100 * totalEquipas[i].Item2 / 800)%; background: gold; height: 10px;"></div>
                            </div>
                            break;
                        }

                    case 1:
                        {
                            <div class="skill">
                                <div class="skill_level" style="width: @(100 * total[i].Item2 / 800)%; background: silver; height: 10px;"></div>
                            </div>
                            break;
                        }

                    case 2:
                        {
                            <div class="skill">
                                <div class="skill_level" style="width: @(100 * total[i].Item2 / 800)%; background: saddlebrown; height: 10px;"></div>
                            </div>
                            break;
                        }
                    default:
                        {
                            <div class="skill">
                                <div class="skill_level" style="width: @(100 * total[i].Item2 / 800)%; background: deepskyblue; height: 10px;"></div>
                            </div>
                            break;
                        }
                }

            </div>
        }
    </div>
</div>

@code {

    private ResultadoModel resultado = new ResultadoModel();

    private List<Tuple<string, int>> total = new List<Tuple<string, int>>();
    private List<Tuple<string, int>> totalEquipas = new List<Tuple<string, int>>();
    private int provaPretendida = 1;
    private int epocaPretendida = 2021;

    private void ProxProva()
    {
        if (provaPretendida < 22)
        {
            provaPretendida++;
        }
    }

    private void PrevProva()
    {
        if (provaPretendida > 1)
        {
            provaPretendida--;
        }
    }

    private void ProxEpoca()
    {
        if (epocaPretendida < 2021)
        {
            epocaPretendida++;
            provaPretendida = 1;
        }
    }

    private void PrevEpoca()
    {
        if (epocaPretendida > 1999)
        {
            epocaPretendida--;
            provaPretendida = 1;
        }
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {

        if (firstRender)
        {
            total = await _dbResultado.ClassificacoesGeraisPiloto(epocaPretendida, provaPretendida);
            totalEquipas = await _dbResultado.ClassificacoesGeraisEquipas(epocaPretendida, provaPretendida);
            StateHasChanged();

        }
        else
        {
            total = await _dbResultado.ClassificacoesGeraisPiloto(epocaPretendida, provaPretendida);
            totalEquipas = await _dbResultado.ClassificacoesGeraisEquipas(epocaPretendida, provaPretendida);
            StateHasChanged();
        }
    }
}